/**
 * Backbone Agency - Script minifiÃ©
 */
document.addEventListener("DOMContentLoaded",function(){initFadeInElements();initCounters();initThemeToggle();initRotatingText();initEasterEgg();initMobileMenu();const e=document.getElementById("contact-form");e&&e.addEventListener("submit",function(e){console.log("Formulaire soumis")})});function initFadeInElements(){const e=document.querySelectorAll(".fade-in"),t=e=>{const t=e.getBoundingClientRect();return t.top<=(window.innerHeight||document.documentElement.clientHeight)*.8},n=()=>{e.forEach(e=>{t(e)&&e.classList.add("visible")})};n(),window.addEventListener("scroll",n)}function initCounters(){const e=document.querySelectorAll(".counter"),t=200,n=e=>{const o=+e.getAttribute("data-count"),a=+e.innerText,r=o/t;a<o?(e.innerText=Math.ceil(a+r),setTimeout(()=>n(e),1)):e.innerText=o},o=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(n(e.target),o.unobserve(e.target))})},{threshold:.5});e.forEach(e=>{o.observe(e)})}function initThemeToggle(){const e=document.getElementById("theme-toggle-btn"),t=e.querySelector("i"),n=localStorage.getItem("theme");n&&(document.documentElement.setAttribute("data-theme",n),o(t,n));function o(e,t){"dark"===t?e.setAttribute("data-feather","sun"):e.setAttribute("data-feather","moon"),feather.replace()}e.addEventListener("click",()=>{const e=document.documentElement.getAttribute("data-theme")||"light",n="light"===e?"dark":"light";document.documentElement.setAttribute("data-theme",n),localStorage.setItem("theme",n),o(t,n)})}function initRotatingText(){const e=document.querySelector(".text-rotate");if(!e)return;const t=JSON.parse(e.getAttribute("data-rotate"));let n=0;const o=()=>{e.style.opacity="0",e.style.transform="translateY(20px)",setTimeout(()=>{e.textContent=t[n],n=(n+1)%t.length,e.style.opacity="1",e.style.transform="translateY(0)"},500)};e.textContent=t[0],e.style.opacity="1",e.style.transform="translateY(0)",setInterval(o,3e3)}function initEasterEgg(){const e=document.getElementById("logo-link");let t=0,n;e.addEventListener("click",function(e){e.preventDefault(),t++,clearTimeout(n),n=setTimeout(()=>{t=0},800),3===t&&(o(),t=0)});function o(){const e=document.createElement("div");e.classList.add("easter-egg"),e.innerHTML='\n            <div class="easter-egg-content">\n                <h3>BOOM !</h3>\n                <p>Code : BADASS10</p>\n            </div>\n        ';const t=document.createElement("style");t.textContent="\n            .easter-egg {\n                position: fixed;\n                top: 0;\n                left: 0;\n                width: 100%;\n                height: 100%;\n                background-color: rgba(0, 0, 0, 0.8);\n                display: flex;\n                justify-content: center;\n                align-items: center;\n                z-index: 9999;\n                animation: easterEggFadeIn 0.3s ease-in-out, easterEggFadeOut 0.3s ease-in-out 2.7s forwards;\n            }\n            \n            .easter-egg-content {\n                text-align: center;\n                color: var(--color-accent);\n                animation: easterEggPulse 0.5s ease-in-out infinite alternate;\n            }\n            \n            .easter-egg-content h3 {\n                font-size: 4rem;\n                margin-bottom: 1rem;\n            }\n            \n            .easter-egg-content p {\n                font-size: 2rem;\n                color: var(--color-white);\n            }\n            \n            @keyframes easterEggFadeIn {\n                from { opacity: 0; }\n                to { opacity: 1; }\n            }\n            \n            @keyframes easterEggFadeOut {\n                from { opacity: 1; }\n                to { opacity: 0; visibility: hidden; }\n            }\n            \n            @keyframes easterEggPulse {\n                from { transform: scale(1); }\n                to { transform: scale(1.1); }\n            }\n        ",document.head.appendChild(t),document.body.appendChild(e),setTimeout(()=>{document.body.removeChild(e)},3e3)}}function initMobileMenu(){const e=document.querySelector(".mobile-menu-btn button"),t=document.querySelector(".nav");if(!e||!t)return;e.addEventListener("click",()=>{t.classList.toggle("active");const n=e.querySelector("i");t.classList.contains("active")?n.setAttribute("data-feather","x"):n.setAttribute("data-feather","menu"),feather.replace()});const n=document.createElement("style");n.textContent="\n        @media (max-width: 768px) {\n            .nav.active {\n                display: block;\n                position: absolute;\n                top: 80px;\n                left: 0;\n                width: 100%;\n                background-color: var(--color-white);\n                box-shadow: var(--shadow-md);\n                padding: 1rem;\n                z-index: 999;\n            }\n            \n            [data-theme=\"dark\"] .nav.active {\n                background-color: var(--color-primary);\n            }\n            \n            .nav.active ul {\n                flex-direction: column;\n                gap: 1rem;\n            }\n            \n            .nav.active a {\n                display: block;\n                padding: 0.5rem 0;\n            }\n        }\n    ",document.head.appendChild(n)}function initChatbot(){var e=Tawk_API||{},t=new Date;!function(){var e=document.createElement("script"),t=document.getElementsByTagName("script")[0];e.async=!0,e.src="https://embed.tawk.to/YOUR_TAWK_ID/default",e.charset="UTF-8",e.setAttribute("crossorigin","*"),t.parentNode.insertBefore(e,t)}()}
